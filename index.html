<!doctype html>
<html>
<head>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <meta charset='utf8'>
    <title>GeekyLog - Projects list</title>
    <link rel="stylesheet" href="css/materialize.min.css">  
    <link rel="stylesheet" href="css/geeky-log.css">
</head>
  <body>
 
    <nav>
        <div class="nav-wrapper">
          <a id="logo" href="index.html">GeekyLog</a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
          </ul>
        </div>
    </nav>  
    
      <div class="row">
        <h1>GeekyLog</h1>
        <h3>List of projects</h3>
        <ul id='projects'></ul>    
        
      </div><!-- / row -->
    
    
     
    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">GeekyLog</h5>
                    <p class="grey-text text-lighten-4">Data Mining : Linux commands</br>Data visualization : d3js + materializecss<br>All data is available in TSV</p>
                </div>
                <div class="col l4 offset-l2 s12">
                    <h5 class="white-text">Links</h5>
                    <ul>                      
                        <li><a class="grey-text text-lighten-3" href="https://github.com/VictorVila/GeekyLog">Get the source code on Github</a></li>
                        <li><a class="grey-text text-lighten-3" href="https://twitter.com/tiropcom">Follow me on Twitter : @tiropcom</a></li>
                        <li><a class="grey-text text-lighten-3" href="http://www.tirop.com/">http://www.tirop.com/</a></li>
                    </ul>
              </div>
            </div>
          </div>
          <div class="footer-copyright">
            <div class="container">
                Free Open source 
                <a class="grey-text text-lighten-4 right" href="https://github.com/VictorVila/GeekyLog/blob/master/LICENSE">GNU GPL v3.0</a>
            </div>
        </div>
    </footer>
    
    <script src="js/d3.v4.min.js"></script> 
    <script> 
    let xhr = new XMLHttpRequest();
	xhr.overrideMimeType( "text/plain" );
	xhr.open( 'GET', 'logs/projects.txt', true );
    xhr.onreadystatechange = () =>
    {
        if ( xhr.readyState === 4 && xhr.status === 200 )
        { 
            let data = xhr.responseText;  
            console.log(data)	            
	        var lines = data.split( '\n' );
	        var projects = '';
		
            for ( let i = 0 ; i < lines.length ; i++ )
            { 
                projects += '<li><a href="home.html?d=' + lines[i] + '">' 
                            + lines[i] + '</a></li>';
            }
            
            if ( projects === '' ) projects = '<li>No projects found</li>';
                        
            document.getElementById('projects').innerHTML = projects;
        }
    };
    
    xhr.send( null ); 
    </script>
  </body>
</html>
